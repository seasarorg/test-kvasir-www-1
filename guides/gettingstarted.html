<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
    <style type="text/css">
      <!--
        @import url(../style.css);
      //-->
    </style>
    <title>Seasar Kvasir/Sora Project Web Site</title>
  </head>
  <body>
    <div id="wrapper">
 
      <div id="header">
        <img class="kvasir" src="../images/kvasir-icon-edged.gif" alt="kvasir"/>
        <div id="title">&nbsp;Seasar Kvasir/Sora Project</div>
        <div id="menu">
            <ul>
              <li><a href="/index.html">Home</a></li>
              <!-- <li><a href="/">about Kvasir3</a></li>
              <li><a href="/">Download</a></li> //-->
              <li><a href="/guides/install.html">Documents</a></li>
              <!-- <li><a href="/">NEWS</a></li>
              <li><a href="/">License</a></li>
              <li><a href="/">Project</a></li> //-->
            </ul>
          </div>
      </div>

      <div id="main">
      <h1>Seasar Kvasir/Sora</h1>
        <div class="left">
          <h2>始めてみよう</h2>
          <div class="desc">
            <p>
            Kvasir/Sora CMSはKvasir/Sora Base上に構築された、拡張性の高いコンテンツ管理システムです
            (以下、混乱の恐れがない場合はKvasir/Sora CMSを単にKvasir/Soraと記述します)。
            この文書では、Kvasir/Soraが初期状態で提供するサイトと付属の「サイト管理ツール」を使って、
            オリジナルのWebサイトを構築する方法を説明します。
            </p>
            <h3>インストール</h3>
            <p>
            インストールの方法については<a href="install.html">インストール</a>を参照して下さい。
            </p>
            <div class="notice">以下、サイトトップのURLをhttp://localhost:8080/kvasirとして説明します。</div>
          </div>

          <div class="desc">
            <h3>サイト管理ツール</h3>
            <p>
            サイト管理ツールは、WebサイトやKvasir/Soraの設定を
            Webブラウザからカスタマイズするためのツールです。
            </p>
            <p>
            サイト管理ツールはサイト管理者（administrator）だけが使用することができますが、
            インストール直後の状態ではサイト管理者のパスワードが設定されていませんので、
            まずはサイト管理ツールを使ってサイト管理者のパスワードを設定して下さい。
            </p>
            <p>
            サイト管理ツールの画面を表示するには以下のURLにアクセスしてください。
            </p>
            <p class="code">
            http://localhost:8080/kvasir/manage
            </p>
            <div class="notice">
            サイトトップに表示されているログインフォームからサイト管理者アカウントでログインして、
            メニューに表示される「管理ツール」リンクをクリックすることでもサイト管理ツールを表示することができます。
            </div>
            
          </div>
          <div class="desc">
            <p>
            認証ダイアログが表示されますので、ユーザ名に「administrator」、
            パスワードに何も入力せずに「OK」ボタンを押して下さい。
            </p>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-001.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-001.jpg" />
              </a>
            </p>
            <p>すると管理ツールのトップ画面が表示されます。</p>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-002.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-002.jpg" />
              </a>
            </p>
            <p>
            サイト管理ツールは「タイトルペイン」「ツリーペイン」「詳細ペイン」の3つのペインに分かれています。
            タイトルペインは上部のペインで、ここにはいくつかのメニューを選択可能なドロップダウンリストがあります
            (注意：3.0.0-EA1ではほとんど全てのメニューは未実装です)。
            </p>
            <p>
            ツリーペインは左側のペインで、ここにはPageオブジェクトがツリー構造で表示されています。
            ツリーペインにあるPageオブジェクトツリーの各アイコンをクリックすると、
            右側の詳細ペインに選択したPageオブジェクトの詳細情報が表示されます。
            </p>
            <div class="notice">
            Pageオブジェクトについては「<a href="pageobject.html">Pageオブジェクト</a>」を参照してください。
            </div>
            <p>
            詳細ペインは右側のペインで、ここには現在選択しているPageオブジェクトの詳細や、
            行なっている操作に関する詳細情報が表示されます。
            </p>
            <p>詳細ペインの上部には通常、複数のタブが表示されています：</p>
            <dl>
              <dt>プレビュー</dt><dd>Pageオブジェクトにリクエストがあった場合の表示を行ないます</dd>
              <dt>基本項目</dt><dd>基本項目を表示したり編集したりする画面です</dd>
            </dl>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-003.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-003.jpg" />
              </a>
            </p>
            <dl>
              <dt>プロパティ</dt><dd>プロパティを表示したり編集したりする画面です</dd>
            </dl>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-004.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-004.jpg" />
              </a>
            </p>
            <dl>
              <dt>操作権限</dt><dd>Pageオブジェクトに対する操作権限を表示したり編集したりする画面です</dd>
            </dl>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-005.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-005.jpg" />
              </a>
            </p>
            <dl>
              <dt>本文</dt><dd>本文を表示したり編集したりする画面です</dd>
            </dl>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-006.jpg">           
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-006.jpg" />
              </a>
            </p>
            <dl>
              <dt>テンプレート</dt><dd>テンプレートを表示したり編集したりする画面です</dd>
            </dl>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-007.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-007.jpg" />
              </a>
            </p>
            <dl>
              <dt>一覧</dt><dd>子Pageの一覧を表示する画面です</dd>
            </dl>
            <p class="thumbnail">
              <a class="largeImage" href="images/gettingstarted-008.jpg">
                <img alt="" src="images/thumbnails/thumbnail-gettingstarted-008.jpg" />
              </a>
            </p>
        </div>

        <div class="desc">
          <h3>サイトのカスタマイズ</h3>
          <p>それでは、管理ツールを使ってWebサイトのカスタマイズを行なってみましょう。</p>
          
          <h4>サイトのタイトルやフッタを変更する</h4>
          <p>
          まずは簡単なところから、サイトのトップページにあるタイトルやページのフッタを変更してみましょう。
          タイトルやフッタはルートPageオブジェクトのプロパティとしてあらかじめ準備されています。
          このプロパティの値を変更することで、記述内容を変更することができます。
          </p>
          <p>
          現在、サイト全体に適用される記述内容として変更可能なプロパティは以下の通りです。
          </p>
          <dl>
            <dt>site.html-title</dt><dd>HTML形式のタイトル : 主にトップページのタイトルとして使われます</dd>
            <dt>site.title</dt><dd>プレーンテキスト形式のタイトル : 主にページのヘッダ部に表示されるタイトルとして使われます</dd>
            <dt>site.footer</dt><dd>プレーンテキスト形式のフッタ : ページのフッタ部に表示されます</dd>
          </dl>
          <p>
          例えばトップページのタイトルを変更するには、
          まず管理ツールのツリーペインで「(ルート)」と書かれたPageオブジェクトのアイコンをクリックします。
          (詳細ペインにルートPageオブジェクトが保有しているPageオブジェクトの一覧が表示されます)
          ここでプロパティタブをクリックして下さい。
          右上の「プロパティを追加」ボタンを押すとプロパティの追加フォームが表示されます。
          フォームには名前欄に「site.html-title」、
          値欄には例えば「&lt;span style=&quot;font-size:small&quot;&gt;小心者&lt;/span&gt;のWebサイト」
          などと入力して「追加」ボタンを押して下さい。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-009.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-009.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-010.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-010.jpg" />
            </a>
          </p>
          <p>プレビュータブを押してみると、トップページのタイトルが変更されていることが分かります。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-011.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-011.jpg" />
            </a>
          </p>
          <p>
          なお国際化に対応するため、プロパティには複数の値を持たせることができるようになっています。
          国際化に対応したWebサイトを構築したい場合は、
          デフォルトバリアントに対応する値として英語の文字列を持たせた上で、
          サポートするロケール毎にバリアントを追加して英語以外の文字列を持たせるようにして下さい。
          (詳しくは<a href="variant.html">バリアント</a>の項を参照ください)。
          </p>
          
          <h4>スタイルシートを変更する</h4>
          <p>
          ページの色などを変更したい場合にはスタイルシートを変更します。
          Kvasir/Sora CMSのデフォルトサイトにおけるスタイルシートは、
          パスアカウント「/style.css」として準備されています。
          この/style.css Pageオブジェクトの本文がスタイルシートの本体です。
          </p>
          <p>
          管理ツールのツリーペインで、ルートPageアイコンの左側の「+」マークをクリックすると
          ルートの子Pageオブジェクトが展開表示されます。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-012.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-012.jpg" />
            </a>
          </p>
          <p>
          その中に「style.css」というアカウントのアイコンがありますので、これをクリックして下さい。
          詳細ペインに基本項目の編集フォームが表示されます。
          本文タブをクリックして本文の編集フォームを表示させ、
          テキストエリアの内容を編集(ここではスタイルシートの記述)して
          「更新」または「上書き」ボタンを押して下さい。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-013.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-013.jpg" />
            </a>
          </p>
          <div class="notice">
          「更新」と「上書き」という似たようなボタンが2つあるのは、
          Kvasir/Sora CMS がPageオブジェクトのcontent (本文) をリビジョン管理しているためです。
          「更新」を押した場合、本文のリビジョンが更新され、現在の本文が過去のリビジョンとして残されます。
          「上書き」を押した場合、現在のリビジョンの本文自体が変更され、リビジョンは更新されません。
          </div>

          <h4>ディレクトリを追加する</h4>
          <p>
          ディレクトリの追加は詳細ペインから行います。
          ここではルートディレクトリにディレクトリを追加してみましょう。
          ツリーペインでディレクトリを追加したいディレクトリ
          (この場合はルートディレクトリ)のアイコンをクリックして下さい。
          詳細ペインに子Pageオブジェクトの一覧が表示されます。
          「追加するものを選択...」と書かれているドロップダウンリストから
          「ディレクトリ」を選択すると、ディレクトリの追加フォームが表示されます。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-014.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-014.jpg" />
            </a>
          </p>
          <p>
          追加したいディレクトリのアカウント、名前、説明を入力して「追加」ボタンを押して下さい。
          追加してから編集する場合は「追加して編集」ボタンを押して下さい。
          ここでは、アカウントに「diary」、名前に「日記」、説明に「日記です。」と入力してみます。
          アカウントはURLの一部として利用されますので、慎重に名前をつけてください。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-015.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-015.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-016.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-016.jpg" />
            </a>
          </p>
          <p>追加したディレクトリの詳細ペインでプレビュータブをクリックすると、ディレクトリの見え方を確認することができます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-017.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-017.jpg" />
            </a>
          </p>
          <p>また、トップページには追加したディレクトリへのリンクが表示されます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-018.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-018.jpg" />
            </a>
          </p>
          <p>
          国際化に対応したWebサイトを構築したい場合は、名前や説明を複数の言語で持たせる必要があります。
          基本項目タブで設定できる名前や説明は内部的にはそれぞれ「name」「description」という名前のプロパティですので、
          名前や説明を複数の言語で持たせるには、基本項目タブではなく直接プロパティタブでこれらのプロパティの値を設定して下さい。
          </p>
          
          <h4>ページを追加する</h4>
          <p>
          追加したdiaryディレクトリにページを追加してみましょう。
          ツリーペインでページを追加したいディレクトリ(この場合はdiaryディレクトリ)のアイコンをクリックして下さい。
          詳細ペインに子Pageの一覧が表示されます。
          「追加するものを選択...」と書かれているドロップダウンリストから
          「ページ」を選択すると、ページの追加フォームが表示されます。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-019.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-019.jpg" />
            </a>
          </p>
          <p>
          追加したいページのアカウント、名前、説明を入力して「追加」ボタンを押して下さい。
          追加してから編集する場合は「追加して編集」ボタンを押して下さい。
          ここでは、アカウントに「2005-11-15」、名前に「2005年11月15日」と入力してみます。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-020.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-020.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-021.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-021.jpg" />
            </a>
          </p>
          <p>追加したページの詳細ペインでプレビュータブをクリックすると、ページの見え方を確認することができます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-022.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-022.jpg" />
            </a>
          </p>
          
          <h5>ページの本文を追加する - テキスト文書</h5>
          <p>
          このままでは本文がありませんので、次に本文を追加します。
          追加したページの詳細ペインで本文タブをクリックして下さい。本文の編集フォームが表示されます。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-023.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-023.jpg" />
            </a>
          </p>
          <p>
          本文の編集フォームでは本文の他に
          「文書タイプ」「メディアタイプ」「エンコーディング」「バリアント」を指定できます。
          </p>
          <p>
          文書タイプは、ページをサイトの共通の枠（フレーム）の中に埋め込む形で表示するか、
          それ単独で表示するかを指定するためのものです。
          テキスト文書をフレームに埋め込んで表示する場合は「文書」を指定して下さい。
          ページが画像などのバイナリデータである場合や、
          テキスト文書でもフレームに埋め込まずにそのまま表示したい場合は「ファイル」を指定して下さい。
          </p>
          <p>
          メディアタイプは、いわゆるコンテントタイプからcharset指定を除いたものです。
          text/plainやimage/jpegなど任意のコンテントタイプを指定することができます。
          </p>
          <p>
          文書タイプが「文書」である場合は、本文がHTMLに変換されて埋め込まれます。
          現在のところ、メディアタイプ毎に以下のようなルールでHTMLに変換されます。
          </p>
          <dl>
            <dt>text/html</dt><dd>bodyタグがあればその中身だけが、bodyタグがなければ全体がそのまま埋め込まれます。</dd>
            <dt>text/plain</dt><dd>「&lt;」や「&gt;」などがエスケープされて埋め込まれます。</dd>
            <dt>text/x-wiki</dt><dd>Wiki形式とみなしてHTMLに変換されて埋め込みます。サポートされているWikiの書式については<a href="wiki.txt">Wiki形式でサポートされている書式</a>を参照して下さい。</dd>
            <dt>その他のtextタイプ</dt><dd>text/plainと同じように変換されて埋め込まれます。</dd>
          </dl>
          <p>
          エンコーディングは、本文の文字エンコーディングです。
          本文がテキスト形式(メディアタイプがtext/*であるもの)の時のみ意味を持ちます。
          何も指定しないとUTF-8を指定したのと同じになります。
          なお文書タイプが「文書」である場合は、
          フレームの文字エンコーディングに合うように文字エンコーディングが変換されて埋め込まれますので、
          エンコーディング指定はあまり意味を成しません。
          </p>
          <p>
          バリアントは、複数の本文を扱うためのキー文字列です。
          何も指定しないとデフォルトバリアントを指定したのと同じになります。
          プロパティと同様に、Kvasir/Soraでは1つのPageオブジェクトに複数の本文を持たせることができるようになっています。
          国際化に対応したWebサイトを構築したい場合は、デフォルトバリアントに対応する本文として英語の本文を持たせた上で、
          サポートするロケール毎にバリアントを追加して英語以外の本文を持たせるようにして下さい。
          </p>
          <p>追加したい本文をテキストエリアに書いたら「追加」ボタンを押して下さい。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-024.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-024.jpg" />
            </a>
          </p>
          <p>追加したページの詳細ペインでプレビュータブをクリックすると、ページの見え方を確認することができます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-025.jpg">            
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-025.jpg" />
            </a>
          </p>
          
          <h5>ページの本文を追加する - バイナリファイル</h5>
          <p>画像のような、サイト共通フレームに埋め込まない形で表示するタイプのページを作ってみます。</p>
          <p>まずはページを追加して下さい。例えばアカウントが「image.gif」であるようなページをルートディレクトリ直下に追加してみて下さい。</p>
          <p>次に、追加したページの本文タブをクリックして下さい。本文の編集フォームが表示されます。</p>
          <p>文書タイプとして「ファイル」を選んで「変更を保存」ボタンを押して下さい。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-026.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-026.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-027.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-027.jpg" />
            </a>
          </p>
          <p>
          文書タイプを変更したら、下のほうにあるアップロードフォームを使って本文を設定します。
          バイナリファイルをアップロードする時は、通常は「ファイル」だけを指定すれば構いません
          (メディアタイプは自動設定されます。バリアントは最初の本文はデフォルトバリアントであるべきなので、空にしておいて下さい)。
          ここではファイルとして適当なJPEGファイルを指定することにします。
          </p>
          <p>ファイルを指定したら「アップロード」ボタンを押して下さい。指定したファイルの内容を本文として持つようになります。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-028.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-028.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-029.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-029.jpg" />
            </a>
          </p>
          <p>追加したページの詳細ペインでプレビュータブをクリックすると、ページの見え方を確認することができます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-030.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-030.jpg" />
            </a>
          </p>
          
          <h4>Pageオブジェクトを削除する</h4>
          <p>
          Pageオブジェクトを削除するには、削除したいPageオブジェクトが属するディレクトリの一覧タブをクリックして
          Pageオブジェクト一覧を表示して下さい。
          </p>
          <p>削除したいPageオブジェクトにチェックをつけて「削除」ボタンを押すと、チェックのついたPageオブジェクトが削除されます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-031.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-031.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-032.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-032.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-033.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-033.jpg" />
            </a>
          </p>
          
          <h4>ページの見た目を変更する</h4>
          <p>
          それぞれのPageオブジェクトは基本的にサイト共通フレームに埋め込まれて表示されますが、
          Pageオブジェクト毎に見た目を変更することもできます。
          ここでは先ほど追加した2005年11月15日の日記（/diary/2005-11-15）の見た目を変更してみましょう。</p>
          <p>
          見た目を変更するには変更したいページにテンプレートを追加します。
          管理ツールの詳細ペインにページ/diary/2005-11-15を表示してテンプレートタブをクリックして下さい。
          テンプレートの編集フォームが表示されます。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-034.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-034.jpg" />
            </a>
          </p>
          <p>
          フォームには既に何やらテンプレートが書かれていますが、これはデフォルトのテンプレートです。
          よく見ると、説明文に
          「<em>このページはテンプレートを持っていません。
          フォームにはデフォルトのテンプレートが表示されています。
          このページにテンプレートを追加するには、
          フォームの内容を適宜変更して「追加」ボタンを押して下さい。</em>
          と書かれています。</p>
          <p>
          そういうわけでまだこのページにはテンプレートは設定されていませんので、
          フォームの内容を編集して「追加」ボタンを押してテンプレートを設定します。
          </p>
          <p>テンプレートは以下のようにしてみます。</p>
          <pre>
&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
  &lt;html&gt;
    &lt;head&gt;
      &lt;title tal:content=&quot;this/ability(property)/%name&quot;&gt;TITLE&lt;/title&gt;
    &lt;/head&gt;
    &lt;body tal:content=&quot;structure this/ability(content)/content/%bodyHTMLString | string:&quot;&gt;
    BODY
    &lt;/body&gt;
  &lt;/html&gt;
          </pre>
          <p>
          ここではテンプレートのタイプは「Zopeページテンプレート」のままとして、
          Zopeページテンプレートの書式でテンプレートを書いています。
          Zopeページテンプレートの詳細については
          <a href="http://www.zope.org/DevHome/Wikis/DevSite/Projects/ZPT/FrontPage">Zope.orgのZPTの説明ページ</a>
          等を参照して下さい。
          </p>
          <p>
          「this/ability(property)/%name」は、
          リクエストされたPageオブジェクトのpropertyアビリティが持つ「name」プロパティの、
          現在のロケールに対応したバリアントに関連付けられている値を表しますので、
          Webブラウザのタイトルバーにはロケールに応じたページの名前が表示されることになります。
          </p>
          <p>
          「this/ability(content)/content/%bodyHTMLString」は、
          リクエストされたPageオブジェクトのcontentアビリティが持つ最新リビジョンの、
          現在のロケールに対応したバリアントに関連付けられている本文をHTMLに変換したものを表しますので、
          Webブラウザにはロケールに応じたページの本文が表示されることになります。
          </p>
          <p>「追加」ボタンを押すとこのページの見た目が変更されます。</p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-035.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-035.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-036.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-036.jpg" />
            </a>
          </p>
          <p>
          今まではデフォルトのテンプレートである/templates/pageを使って表示されていましたが、
          ページに追加したテンプレートを使って表示されるようになります。
          プレビュータブをクリックすると、ページの見え方を確認することができます。
          (ブラウザがキャッシュしている場合は期待通りの表示がされないことがあります。
          その場合は例えばIEやFirefoxではF5キーを押して表示を更新してみて下さい)。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-037.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-037.jpg" />
            </a>
          </p>
          
          <h4>サイトの共通フレームを変更する</h4>
          <p>
          サイトの共通フレームを変更するには、
          共通フレームを持っているPageオブジェクトのテンプレートを変更します。
          共通フレームを持っているのは「/templates/frame」Pageオブジェクトですので、
          このPageオブジェクトについてテンプレートタブをクリックして、内容を編集して下さい。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-038.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-038.jpg" />
            </a>
          </p>
          <p>
          /templates以下にはいろいろなテンプレートを持つPageオブジェクトがあります。
          以下にパスアカウントとテンプレートの種類の対応を挙げておきます。
          </p>
          <dl>
            <dt>/templates/page</dt><dd>ページタイプが「page」であるPageオブジェクトを表示するためのデフォルトテンプレート。</dd>
            <dt>/templates/user</dt><dd>ページタイプが「user」であるPageオブジェクトを表示するためのデフォルトテンプレート。</dd>
            <dt>/templates/group</dt><dd>ページタイプが「group」であるPageオブジェクトを表示するためのデフォルトテンプレート。</dd>
            <dt>/templates/role</dt><dd>ページタイプが「role」であるPageオブジェクトを表示するためのデフォルトテンプレート。</dd>
            <dt>/templates/directory</dt><dd>ページタイプが「directory」であるPageオブジェクトを表示するためのデフォルトテンプレート。</dd>
            <dt>/templates/frame</dt><dd>サイトの共通フレーム。</dd>
            <dt>/template/exceptions/SecurityRuntimeException</dt><dd>リクエストの処理中にSecurityRuntimeExceptionがスローされた場合のエラー画面。通常は閲覧権限を持たないページを表示しようとした場合に表示される画面です。</dd>
            <dt>/template/exceptions/PageNotFoundRuntimeException</dt><dd>リクエストの処理中にPageNotFoundRuntimeExceptionがスローされた場合のエラー画面。通常は存在しないページや不可視のページを表示しようとした場合に表示される画面です。</dd>
            <dt>/template/exceptions/Exception</dt><dd>リクエストの処理中に何らかのExceptionがスローされた場合のエラー画面。通常のエラー画面です。</dd>
          </dl>
         
          <h4>ページのアクセス権限を設定する</h4>
          <p>
          Kvasir/Soraではページ毎にアクセス権限を設定することができます。
          ここでは、ロール/roles/testを持つユーザだけが日記「2005-11-15」を閲覧できるようにしてみましょう。
          <div class="notice">
          ユーザ・グループ・ロールを追加する方法は「<a href="user.html">ユーザ・グループ・ロールの追加</a>」を参照してください。
          </div>
          </p>
          <p>
          日記「2005-11-15」をツリーペインでクリックして詳細ペインに日記
          「2005-11-15」の詳細を表示させ、
          操作権限タブをクリックして操作権限の設定フォームを表示させて下さい。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-052.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-052.jpg" />
            </a>
          </p>
          <p>
          Kvasir/Soraに登録されているロールの一覧が表示されますので、
          ロール/roles/testのアクセス権限だけを「参照」に、
          それ以外のロールのアクセス権限を「なし」にして「変更を保存」ボタンを押して下さい。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-053.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-053.jpg" />
            </a>
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-054.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-054.jpg" />
            </a>
          </p>
          <p>
          これでこのページはロール/roles/testを持つユーザだけが閲覧可能になりました。
          試しにログインせずにこのページを表示すると、
          「閲覧権限がありません。」というエラー画面が表示されます。
          ロール/roles/testを持つユーザ「test」でログインしてから表示すると、
          無事表示できるようになります
          (ブラウザがキャッシュしている場合は期待通りの表示がされないことがあります。
          その場合は例えばIEやFirefoxではF5キーを押して表示を更新してみて下さい)。
          </p>
          <p class="thumbnail">
            <a class="largeImage" href="images/gettingstarted-055.jpg">
              <img alt="" src="images/thumbnails/thumbnail-gettingstarted-055.jpg" />
            </a>
          </p>
          </div>
        </div>
        <div class="right">
          <h2>Contents</h2>
          <div class="desc">
            <ul>
              <li><a href="install.html">インストール</a></li>
              <li><a href="gettingstarted.html">始めてみよう</a></li>
              <li><a href="user.html">ユーザ・グループ・ロールの追加</a></li>
              <li>基礎知識
                <ul>
                  <li><a href="variant.html">バリアント</a></li>
                  <li><a href="pageobject.html">Page オブジェクト</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div> <!-- end of main directive -->
      <div id="footer">
        Copyright &copy; 2005 The Seasar Foundation and the others, All rights reserved.
      </div>
    </div> <!-- end of wrapper directive -->
</html>

